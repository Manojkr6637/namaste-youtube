{"ast":null,"code":"import React,{useEffect,useState}from'react';import ChatMessage from'./ChatMessage';import{useDispatch,useSelector}from'react-redux';import{addMessage}from'../utils/chatSlice';import{getRandomMessage,getRandomName}from'../utils/helper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const LiveChat=()=>{const[liveMessage,setLiveMessage]=useState('');const dispatch=useDispatch();const chatMessage=useSelector(store=>store.chat.messages);useEffect(()=>{const i=setInterval(()=>{console.log(\"== setInterval\");dispatch(addMessage({name:getRandomName(),message:getRandomMessage()}));},2000);return()=>{clearInterval(i);};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"ml-2 w-full h-[350px] p-2 border border-black bg-slate-100 rounded-lg overflow-y-scroll flex flex-col-reverse\",children:chatMessage.map((item,index)=>/*#__PURE__*/_jsx(ChatMessage,{name:item.name,message:item.message}))}),/*#__PURE__*/_jsxs(\"form\",{className:\"w-full p-2 ml-2 border border-black\",onSubmit:e=>{e.preventDefault();dispatch(addMessage({name:\"Manoj\",message:liveMessage}));},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-80\",value:liveMessage,onChange:e=>setLiveMessage(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"px-2 mx-2 bg-green-600 text-white\",children:\"Send\"})]})]});};export default LiveChat;","map":{"version":3,"names":["React","useEffect","useState","ChatMessage","useDispatch","useSelector","addMessage","getRandomMessage","getRandomName","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LiveChat","liveMessage","setLiveMessage","dispatch","chatMessage","store","chat","messages","i","setInterval","console","log","name","message","clearInterval","children","className","map","item","index","onSubmit","e","preventDefault","type","value","onChange","target"],"sources":["D:/Test project/namaste-youtube/src/components/LiveChat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport ChatMessage from './ChatMessage'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addMessage } from '../utils/chatSlice';\r\nimport { getRandomMessage, getRandomName } from '../utils/helper';\r\n\r\nconst LiveChat = () => {\r\n  const [liveMessage, setLiveMessage] = useState('');\r\n  const dispatch = useDispatch();\r\n  const chatMessage=useSelector((store)=>store.chat.messages);\r\n  useEffect(() => {\r\n    const i = setInterval(() => {\r\n      console.log(\"== setInterval\");\r\n      dispatch(addMessage({\r\n        name: getRandomName(),\r\n        message: getRandomMessage()\r\n      }))\r\n    }, 2000);\r\n     return () => { clearInterval(i)}\r\n  }, []);\r\n  return (\r\n    <>\r\n    <div className='ml-2 w-full h-[350px] p-2 border border-black bg-slate-100 rounded-lg overflow-y-scroll flex flex-col-reverse'>\r\n      {chatMessage.map((item, index)=>(\r\n        <ChatMessage name={item.name} message={item.message}/>) )    }\r\n      \r\n    </div>\r\n    <form className='w-full p-2 ml-2 border border-black' onSubmit={(e)=>{\r\n      e.preventDefault();\r\n      dispatch(addMessage({\r\n        name:\"Manoj\",\r\n        message:liveMessage,\r\n      }))\r\n    }}>\r\n         <input type='text' className='w-80' value={liveMessage} onChange={(e)=>setLiveMessage(e.target.value)}/>\r\n         <button className='px-2 mx-2 bg-green-600 text-white' >Send</button>\r\n     </form>\r\n     </>\r\n  )\r\n}\r\n\r\nexport default LiveChat"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,KAAQ,oBAAoB,CAC/C,OAASC,gBAAgB,CAAEC,aAAa,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElE,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,WAAW,CAACd,WAAW,CAAEe,KAAK,EAAGA,KAAK,CAACC,IAAI,CAACC,QAAQ,CAAC,CAC3DrB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,CAAC,CAAGC,WAAW,CAAC,IAAM,CAC1BC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC7BR,QAAQ,CAACZ,UAAU,CAAC,CAClBqB,IAAI,CAAEnB,aAAa,CAAC,CAAC,CACrBoB,OAAO,CAAErB,gBAAgB,CAAC,CAC5B,CAAC,CAAC,CAAC,CACL,CAAC,CAAE,IAAI,CAAC,CACP,MAAO,IAAM,CAAEsB,aAAa,CAACN,CAAC,CAAC,EAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CACN,mBACEX,KAAA,CAAAE,SAAA,EAAAgB,QAAA,eACApB,IAAA,QAAKqB,SAAS,CAAC,+GAA+G,CAAAD,QAAA,CAC3HX,WAAW,CAACa,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC3BxB,IAAA,CAACP,WAAW,EAACwB,IAAI,CAAEM,IAAI,CAACN,IAAK,CAACC,OAAO,CAAEK,IAAI,CAACL,OAAQ,CAAC,CAAG,CAAC,CAExD,CAAC,cACNhB,KAAA,SAAMmB,SAAS,CAAC,qCAAqC,CAACI,QAAQ,CAAGC,CAAC,EAAG,CACnEA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBnB,QAAQ,CAACZ,UAAU,CAAC,CAClBqB,IAAI,CAAC,OAAO,CACZC,OAAO,CAACZ,WACV,CAAC,CAAC,CAAC,CACL,CAAE,CAAAc,QAAA,eACGpB,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACP,SAAS,CAAC,MAAM,CAACQ,KAAK,CAAEvB,WAAY,CAACwB,QAAQ,CAAGJ,CAAC,EAAGnB,cAAc,CAACmB,CAAC,CAACK,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,cACxG7B,IAAA,WAAQqB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAE,MAAI,CAAQ,CAAC,EAClE,CAAC,EACL,CAAC,CAER,CAAC,CAED,cAAe,CAAAf,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}