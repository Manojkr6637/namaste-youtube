{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{toggleMenu}from'../utils/appSlice';import{YOUTUBE_AUTOSEARCH_API}from'../utils/constants';import{cacheResults}from'../utils/searchSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const dispatch=useDispatch();const searchCache=useSelector(store=>store.search);const[searchQuery,setSearchQuery]=useState(\"\");const[suggestions,setSuggestions]=useState([]);const[showSuggestion,setShowSuggestion]=useState(false);const toggleMenuHandler=()=>{// console.log('toggleMenuHandler');\ndispatch(toggleMenu());};useEffect(()=>{const timer=setTimeout(()=>{console.log(\"searchCache[searchQuery]\",searchCache[searchQuery]);if(searchCache[searchQuery]){setSuggestions(searchCache[searchQuery]);}else{// getSearchData();\n}},200);return()=>{clearTimeout(timer);};},[searchQuery]);const getSearchData=async()=>{const data=await fetch(YOUTUBE_AUTOSEARCH_API+searchQuery);const json=await data.json();console.log(\"==get serach\",json.items);//snippet//title\nsetSuggestions(json.items);dispatch(cacheResults({[searchQuery]:json.items}));};console.log('searchQuery suggestions',suggestions);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-flow-col m-2 p-3 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex col-span-2\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:void(0)\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"h-8 cursor-pointer \",onClick:()=>toggleMenuHandler(),alt:\"Hambur\",src:\"https://www.svgrepo.com/show/316358/menu-hamburger.svg\"})]}),\" \",/*#__PURE__*/_jsx(\"img\",{className:\"h-8 mx-2\",alt:\"youtube logo\",src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjdB5idttrtpfZkhv3Dz20jvA14SXgOCOKQiBT6_tnEyagCBi91sEJMTU8X6eLxzb5dQ&usqp=CAU\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-8 px-10\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-1/2  border border-gray-600 p-2 rounded-l-full\",placeholder:\"Search\",onFocus:()=>setShowSuggestion(true),onBlur:()=>setShowSuggestion(false)}),/*#__PURE__*/_jsxs(\"button\",{className:\"border rounded-r-full border-gray-600 px-5 py-2 bg-gray-100\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-magnifying-glass\"}),\"Search\"]})]}),showSuggestion&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bg-white py-2 px-5 w-[22.5rem] rounded-lg shadow-lg border\\r border-gray-100\",children:/*#__PURE__*/_jsx(\"ul\",{children:suggestions.length&&suggestions.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"py-2 shadow-sm hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-magnifying-glass\"}),item.snippet.title]}))})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-8\",alt:\"user icon\",src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9CAMAAAC4XpwXAAAAYFBMVEX///8AAAC8vLy0tLTZ2dn39/ft7e1NTU24uLjLy8vo6OiQkJBqamooKCjx8fGwsLBBQUGIiIiqqqp7e3s3NzcVFRVHR0cQEBBbW1t0dHQvLy/g4OBWVlagoKAdHR3CwsKyPMZ2AAAEq0lEQVRoge1b2baiMBBkCSAiqICOisj//+UcrnoN2bqyOM6D9Z4UpJdUN00UffHFF/89snzNyiRt2zZNSrbOs3/GvE6qTVHHPOpiUyXrtzM3q66Pdei7VfM+6ny70zI/sdvmb+EuzweSe8bhXIamzpIjRH3HMQnqhSl95IIB0mDcid7R9OiTINzM9r1/3595c2eVI/eMytP8rPAgj+PC6/VXXtwzVu7ke2/yON47cud+p/5E4ZT8hksQ8ji+DPbkLBD3DGvfY38Csv+xpA9Kbks/BOWeYWH7xiWxm9HjuiNMqC1RoOQhkowMMO34p1c1oKQbMtCXABw/e4fR7yjoC9fnPqdQfe7cZ1BnbyGjDtdqbMfqigntH+zM5Am6zyl9XZx5ekKXmaUmmOQ6MXEOHbawN5Gn0BZXlfnYFVpr0PkZZHVd0oJS5E4fdZDVR+3yEVmutzxSq5n8Bnn6o25xCSxuDeRR1AI76CrcM720M5JHEeD6Z/XKnE4bNZWps5rc46BW2Fv6uem6FDD9VrmQDjdjrniAzlfKdNvQT420BICEpZJ49LIbogybm9NL0O66AcijaEPuowoc2mBqdxFBO6/CfdbkIrAcA/SJ3NWkQ6XGWqFrOuTlwKX1nOF64gFclLK+o50FrUZoUSy5LyCkw7FL0jqnrXUET56+p2sx1QMu32MNmBzQhqL/AnFywGrwAVDYYuwiymKC2CdgJ1FhIKIIq4ERcSkGPKKla4iddl/5nkEUGXT0yMFL6hBiPwHsUFHlxA50nrBul8iO1VD0y2P1pGh3sHjVFzJ3QOWM7PNIvM8wf+1y3QXtWdQmicGQaJshbgLk+TsM/W68py7meeCOe0J3+OixK+44m0bZXnXVZhYdTrl1RmubF/pUXJ6lNo1lWZrb9en6cXg9QDaMdk1tWdfB3aoniq4t2cDKtrPubsqaFnb6AFBI8/BfBHRQlcJgxy0AVHUc1JYv9tuk7VT1Qt+1yXYPuYCqUQ/U77tHoskm8So7TY/qugRafspCnFp34V2Vja/XLEY+bydUvlW3ionSVw7SnJVTyWSVT6QOdSFu7Fn1Nh9TB1P8aHpWpn7d2W6MpzFtpVmjv6TITxoS9Kev1Se6+s9lfEUnFLV9Wl2udxue0KglfcNR3XZwHZxRvoupAaI6LnNX2gRVjWA0ohwq9g73gux65l6rdFpYh1AHSTARVhQsT7bEzRAb5sT3ONFTfUelbLdb2Ir6FEFjoRpoH+Klde0/JtlwZw98g+YPy8ffn+DOEjIjJ3I8ZrScN+OqEt8BTe7igse9ONNjXTIduCYOPHMS5Zw48hnP5BL3xWLSjO++uLseH7xWc2b8nNXRLe4aTi34jHndXIw/3dzJhRxZ2b5+s0iZDvl6IUwvdhJjoemt5PAvmkVZZDGcuhyDLVzT9bIZcsVST7kcwHCdKY2kynKXUlGbi/PeXrlanCW+dJP+AfKpE2o4v1li1Rz1bTMy+arM2LiRvv/6zlFHmhnyazem878izfzvSDp2qmGbADPkMz45Pz/jk/8ORB/+b2LGB/8Z+cEn/5f5QZMa/xVK3/iv0AOf+0/qic/9I/bFF1844y+BADmJh2XlWAAAAABJRU5ErkJggg==\"})})]});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","toggleMenu","YOUTUBE_AUTOSEARCH_API","cacheResults","jsx","_jsx","jsxs","_jsxs","Header","dispatch","searchCache","store","search","searchQuery","setSearchQuery","suggestions","setSuggestions","showSuggestion","setShowSuggestion","toggleMenuHandler","timer","setTimeout","console","log","clearTimeout","getSearchData","data","fetch","json","items","className","children","href","onClick","alt","src","type","value","onChange","e","target","placeholder","onFocus","onBlur","class","length","map","item","snippet","title"],"sources":["D:/Test project/namaste-youtube/src/components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { toggleMenu } from '../utils/appSlice'\r\nimport { YOUTUBE_AUTOSEARCH_API } from '../utils/constants';\r\nimport { cacheResults } from '../utils/searchSlice';\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const searchCache=useSelector((store)=>store.search)\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showSuggestion, setShowSuggestion] = useState(false);\r\n  const toggleMenuHandler=() => {\r\n    // console.log('toggleMenuHandler');\r\n    dispatch(toggleMenu());\r\n  }\r\n\r\n  useEffect(()=>{\r\n   \r\n   const timer = setTimeout(() => {\r\n    console.log(\"searchCache[searchQuery]\", searchCache[searchQuery])\r\n    if(searchCache[searchQuery]){\r\n      \r\n      setSuggestions(searchCache[searchQuery]);\r\n    }else{\r\n      // getSearchData();\r\n    } \r\n   }, 200);\r\n\r\n  return ()=>{ \r\n    clearTimeout(timer)};\r\n\r\n  },[searchQuery]);\r\n\r\n  const getSearchData = async() => {\r\n      const data = await fetch(YOUTUBE_AUTOSEARCH_API+searchQuery);\r\n      const json = await data.json();\r\n      console.log(\"==get serach\",json.items);//snippet//title\r\n      setSuggestions(json.items);\r\n      dispatch(cacheResults({\r\n        [searchQuery]:json.items\r\n      }));\r\n  }\r\n\r\n  console.log('searchQuery suggestions',suggestions);\r\n  return (\r\n    <div className='grid grid-flow-col m-2 p-3 shadow-lg'>\r\n      <div className='flex col-span-2'>\r\n        <a href='javascript:void(0)'> <img className='h-8 cursor-pointer ' onClick={()=>toggleMenuHandler()} alt=\"Hambur\"  src='https://www.svgrepo.com/show/316358/menu-hamburger.svg' />     \r\n        </a> <img className='h-8 mx-2' alt=\"youtube logo\"  src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjdB5idttrtpfZkhv3Dz20jvA14SXgOCOKQiBT6_tnEyagCBi91sEJMTU8X6eLxzb5dQ&usqp=CAU' />\r\n      </div>\r\n      <div className='col-span-8 px-10'>\r\n        <div>\r\n         <input type='text'\r\n         value={searchQuery}\r\n         onChange={(e)=>setSearchQuery(e.target.value)}\r\n          className='w-1/2  border border-gray-600 p-2 rounded-l-full' placeholder='Search'\r\n          onFocus={()=>setShowSuggestion(true)}\r\n          onBlur={()=>setShowSuggestion(false)}\r\n           />\r\n         <button className='border rounded-r-full border-gray-600 px-5 py-2 bg-gray-100'> <i class=\"fa-solid fa-magnifying-glass\"></i>Search\r\n          </button>\r\n      </div>     \r\n      {showSuggestion && <div className=\"fixed bg-white py-2 px-5 w-[22.5rem] rounded-lg shadow-lg border\r\n        border-gray-100\">\r\n          <ul>\r\n          {suggestions.length && suggestions.map((item)=>\r\n            <li className='py-2 shadow-sm hover:bg-gray-100'><i class=\"fa-solid fa-magnifying-glass\"></i>{item.snippet.title}</li> \r\n          )}\r\n            \r\n          </ul>\r\n      </div>\r\n      }\r\n      </div>    \r\n      <div className='col-span-2'>\r\n         <img className='h-8' alt=\"user icon\"  src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9CAMAAAC4XpwXAAAAYFBMVEX///8AAAC8vLy0tLTZ2dn39/ft7e1NTU24uLjLy8vo6OiQkJBqamooKCjx8fGwsLBBQUGIiIiqqqp7e3s3NzcVFRVHR0cQEBBbW1t0dHQvLy/g4OBWVlagoKAdHR3CwsKyPMZ2AAAEq0lEQVRoge1b2baiMBBkCSAiqICOisj//+UcrnoN2bqyOM6D9Z4UpJdUN00UffHFF/89snzNyiRt2zZNSrbOs3/GvE6qTVHHPOpiUyXrtzM3q66Pdei7VfM+6ny70zI/sdvmb+EuzweSe8bhXIamzpIjRH3HMQnqhSl95IIB0mDcid7R9OiTINzM9r1/3595c2eVI/eMytP8rPAgj+PC6/VXXtwzVu7ke2/yON47cud+p/5E4ZT8hksQ8ji+DPbkLBD3DGvfY38Csv+xpA9Kbks/BOWeYWH7xiWxm9HjuiNMqC1RoOQhkowMMO34p1c1oKQbMtCXABw/e4fR7yjoC9fnPqdQfe7cZ1BnbyGjDtdqbMfqigntH+zM5Am6zyl9XZx5ekKXmaUmmOQ6MXEOHbawN5Gn0BZXlfnYFVpr0PkZZHVd0oJS5E4fdZDVR+3yEVmutzxSq5n8Bnn6o25xCSxuDeRR1AI76CrcM720M5JHEeD6Z/XKnE4bNZWps5rc46BW2Fv6uem6FDD9VrmQDjdjrniAzlfKdNvQT420BICEpZJ49LIbogybm9NL0O66AcijaEPuowoc2mBqdxFBO6/CfdbkIrAcA/SJ3NWkQ6XGWqFrOuTlwKX1nOF64gFclLK+o50FrUZoUSy5LyCkw7FL0jqnrXUET56+p2sx1QMu32MNmBzQhqL/AnFywGrwAVDYYuwiymKC2CdgJ1FhIKIIq4ERcSkGPKKla4iddl/5nkEUGXT0yMFL6hBiPwHsUFHlxA50nrBul8iO1VD0y2P1pGh3sHjVFzJ3QOWM7PNIvM8wf+1y3QXtWdQmicGQaJshbgLk+TsM/W68py7meeCOe0J3+OixK+44m0bZXnXVZhYdTrl1RmubF/pUXJ6lNo1lWZrb9en6cXg9QDaMdk1tWdfB3aoniq4t2cDKtrPubsqaFnb6AFBI8/BfBHRQlcJgxy0AVHUc1JYv9tuk7VT1Qt+1yXYPuYCqUQ/U77tHoskm8So7TY/qugRafspCnFp34V2Vja/XLEY+bydUvlW3ionSVw7SnJVTyWSVT6QOdSFu7Fn1Nh9TB1P8aHpWpn7d2W6MpzFtpVmjv6TITxoS9Kev1Se6+s9lfEUnFLV9Wl2udxue0KglfcNR3XZwHZxRvoupAaI6LnNX2gRVjWA0ohwq9g73gux65l6rdFpYh1AHSTARVhQsT7bEzRAb5sT3ONFTfUelbLdb2Ir6FEFjoRpoH+Klde0/JtlwZw98g+YPy8ffn+DOEjIjJ3I8ZrScN+OqEt8BTe7igse9ONNjXTIduCYOPHMS5Zw48hnP5BL3xWLSjO++uLseH7xWc2b8nNXRLe4aTi34jHndXIw/3dzJhRxZ2b5+s0iZDvl6IUwvdhJjoemt5PAvmkVZZDGcuhyDLVzT9bIZcsVST7kcwHCdKY2kynKXUlGbi/PeXrlanCW+dJP+AfKpE2o4v1li1Rz1bTMy+arM2LiRvv/6zlFHmhnyazem878izfzvSDp2qmGbADPkMz45Pz/jk/8ORB/+b2LGB/8Z+cEn/5f5QZMa/xVK3/iv0AOf+0/qic/9I/bFF1844y+BADmJh2XlWAAAAABJRU5ErkJggg==' />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}